#!/usr/bin/env ruby
# frozen_string_literal: true

require "bundler/setup"
require "rs_day4"
require "benchmark"
require "benchmark/ips"

input = File.read "#{__dir__}/../../input.txt"

# RubyVM::YJIT.enable

Benchmark.ips do |x|
  x.report("Ruby") { RsDay4.run input }
  x.report("Rust") { RsDay4.rs_run input }
  x.compare!
end

Benchmark.bmbm do |x|
  x.report("Ruby") { RsDay4.run input }
  x.report("Rust") { RsDay4.rs_run input }
end
